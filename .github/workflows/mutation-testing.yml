name: Mutation Testing

on:
  pull_request:
    paths: ['**/*.py', '!**/migrations/**', '!**/tests/**']
  workflow_dispatch:
    inputs:
      mode:
        type: choice
        options: [baseline, changed-only]
        default: baseline

jobs:
  mutation:
    uses: roaming-panda-llc/agent_work/.github/workflows/mutation-testing-reusable.yml@main
    with:
      source-paths: 'sequence_mcp/'
      python-version: '3.11'
      mode: ${{ github.event.inputs.mode || 'changed-only' }}
